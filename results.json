{'query': {'original': 'src/vibescraper/main.py', 'show_strict_warning': False, 'is_navigational': False, 'is_news_breaking': False, 'spellcheck_off': True, 'country': 'us', 'bad_results': False, 'should_fallback': False, 'postal_code': '', 'city': '', 'header_country': '', 'more_results_available': True, 'state': ''
  }, 'mixed': {'type': 'mixed', 'main': [
      {'type': 'web', 'index': 0, 'all': False
      },
      {'type': 'web', 'index': 1, 'all': False
      },
      {'type': 'web', 'index': 2, 'all': False
      },
      {'type': 'web', 'index': 3, 'all': False
      },
      {'type': 'web', 'index': 4, 'all': False
      },
      {'type': 'web', 'index': 5, 'all': False
      },
      {'type': 'web', 'index': 6, 'all': False
      },
      {'type': 'web', 'index': 7, 'all': False
      },
      {'type': 'web', 'index': 8, 'all': False
      },
      {'type': 'web', 'index': 9, 'all': False
      },
      {'type': 'web', 'index': 10, 'all': False
      },
      {'type': 'web', 'index': 11, 'all': False
      },
      {'type': 'web', 'index': 12, 'all': False
      },
      {'type': 'web', 'index': 13, 'all': False
      },
      {'type': 'web', 'index': 14, 'all': False
      },
      {'type': 'web', 'index': 15, 'all': False
      },
      {'type': 'web', 'index': 16, 'all': False
      },
      {'type': 'web', 'index': 17, 'all': False
      },
      {'type': 'web', 'index': 18, 'all': False
      },
      {'type': 'web', 'index': 19, 'all': False
      }
    ], 'top': [
      {'type': 'chatllm', 'index': 0, 'all': False
      }
    ], 'side': [
      {'type': 'chatllm', 'index': 0, 'all': False
      }
    ]
  }, 'type': 'search', 'web': {'type': 'search', 'results': [
      {'title': 'r/learnpython on Reddit: Using a src directory for a Python package', 'url': 'https: //www.reddit.com/r/learnpython/comments/wpkr4q/using_a_src_directory_for_a_python_package/', 'is_source_local': False, 'is_source_both': False, 'description': 'However I&#x27;ve adopted the practice of just using the project name for the source files, instead of src. ... ğŸ“¦packaging_tutorial â”£ ğŸ“‚docs â”£ ğŸ“‚packaging_tutorial â”ƒ â”£ ğŸ“œ__init__.py â”ƒ â”£ ğŸ“œ__main__.py â”ƒ â”£ ğŸ“œlib.py â”ƒ â”— ğŸ“œmain.py â”£ ğŸ“‚tests â”ƒ â”£ ğŸ“œconftest.py â”ƒ â”— ğŸ“œsome_test.py â”£ ğŸ“œ.gitattributes â”£ ğŸ“œ.gitignore â”£ ğŸ“œCHANGELOG.md â”£ ğŸ“œCODE_OF_CONDUCT.md â”£ ğŸ“œCONTRIBUTING.md â”£ ğŸ“œpoetry.lock â”£ ğŸ“œpyproject.toml â”— ğŸ“œREADME.md', 'page_age': '2022-08-16T04:28:53', 'profile': {'name': 'Reddit', 'url': 'https://www.reddit.com/r/learnpython/comments/wpkr4q/using_a_src_directory_for_a_python_package/', 'long_name': 'reddit.com', 'img': 'https://imgs.search.brave.com/U-eHNCapRHVNWWCVPPMTIvOofZULh0_A_FQKe8xTE4I/rs:fit:32:32:1:0/g:ce/aHR0cDovL2Zhdmlj/b25zLnNlYXJjaC5i/cmF2ZS5jb20vaWNv/bnMvN2ZiNTU0M2Nj/MTFhZjRiYWViZDlk/MjJiMjBjMzFjMDRk/Y2IzYWI0MGI0MjVk/OGY5NzQzOGQ5NzQ5/NWJhMWI0NC93d3cu/cmVkZGl0LmNvbS8'}, 'language': 'en', 'family_friendly': True, 'type': 'search_result', 'subtype': 'qa', 'is_live': False, 'meta_url': {'scheme': 'https', 'netloc': 'reddit.com', 'hostname': 'www.reddit.com', 'favicon': 'https://imgs.search.brave.com/U-eHNCapRHVNWWCVPPMTIvOofZULh0_A_FQKe8xTE4I/rs:fit:32:32:1:0/g:ce/aHR0cDovL2Zhdmlj/b25zLnNlYXJjaC5i/cmF2ZS5jb20vaWNv/bnMvN2ZiNTU0M2Nj/MTFhZjRiYWViZDlk/MjJiMjBjMzFjMDRk/Y2IzYWI0MGI0MjVk/OGY5NzQzOGQ5NzQ5/NWJhMWI0NC93d3cu/cmVkZGl0LmNvbS8', 'path': '  â€º r/learnpython  â€º using a src directory for a python package'}, 'thumbnail': {'src': 'https://imgs.search.brave.com/A5H_aQiEBuUODR0lNeU8iDfhrWUvO8oEmRGE_mcS_gM/rs:fit:200:200:1:0/g:ce/aHR0cHM6Ly93d3cu/cmVkZGl0c3RhdGlj/LmNvbS9pY29uLnBu/Zw', 'original': 'https://www.redditstatic.com/icon.png', 'logo': True}, 'age': 'August 16, 2022', 'qa': {'question': '<p>\n      According to the <a rpl class="relative pointer-events-auto a cursor-pointer\n  \n  \n  \n  \n  underline\n  " href="https://packaging.python.org/en/latest/" rel="noopener nofollow noreferrer ugc" target="_blank">Python Packaging User Guide</a>, a src directory should contain a sub-directory which contains the files for a Python package (see example below).\n    </p><pre>\npackaging_tutorial/\nâ”œâ”€â”€ LICENSE\nâ”œâ”€â”€ pyproject.toml\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ src/\nâ”‚   â””â”€â”€ example_package_YOUR_USERNAME_HERE/\nâ”‚       â”œâ”€â”€ __init__.py\nâ”‚       â””â”€â”€ example.py\nâ””â”€â”€ tests/</pre><p>\n      It seems unnecessary to store all the package files within a sub-folder of the src directory. Why not make the src directory the actual package as shown below?\n    </p><pre>\npackaging_tutorial/\nâ”œâ”€â”€ LICENSE\nâ”œâ”€â”€ pyproject.toml\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ src/\nâ”‚     â”œâ”€â”€ __init__.py\nâ”‚     â””â”€â”€ example.py</pre><p>\n      What are some other sub-folders that could go into the src folder to justify having multiple sub-directories? For example, if the tests and examples directories for a package were placed in src then it would make sense to put the source code for the package in its own sub-directory.\n    </p><pre>\npackaging_tutorial/\nâ”œâ”€â”€ LICENSE\nâ”œâ”€â”€ pyproject.toml\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ src/\nâ”‚   â””â”€â”€ example_package_YOUR_USERNAME_HERE/\nâ”‚   â”‚   â”œâ”€â”€ __init__.py\nâ”‚   â”‚   â””â”€â”€ example.py\nâ”‚   â””â”€â”€ tests/\nâ”‚   â””â”€â”€ examples/\nâ””â”€â”€ docs/</pre>', 'answer': {'text': '<span>I totally get why the second subdirectory under src being necessary is non-intuitive, but it actually gets to the "why" of the src directory itself. The tl;dr (and trust me, it\'s a long rabbit hole to go down if you want to read the full back and forth in the community) is this: Python implicitly adds the current directory to sys.path, which leads to nasty and hard to debug problems when it comes to packaging your code. Putting your package inside a src directory means that you have to install it the way your users will, making the src directory itself the package just recreates the problem. A much better articulation of these issues can be ready in the blog post below, imo it\'s required reading to understand a lot of this stuff: https://blog.ionelmc.ro/2014/05/25/python-packaging/#the-structure</span>\n', 'upvoteCount': 7}}, 'article': {'author': [{'type': 'person', 'name': 'wiggitt', 'url': 'https://www.reddit.com/user/wiggitt/'}], 'date': 'Aug 16, 2022', 'publisher': {'type': 'organization', 'name': 'Reddit', 'url': 'https://www.reddit.com', 'thumbnail': {'src': 'https://imgs.search.brave.com/vwRCTZCyS3UsCGj7HsYLzWpcOMhAEqq9hhxBK8tt7Dw/rs:fit:200:200:1:0/g:ce/aHR0cHM6Ly93d3cu/cmVkZGl0c3RhdGlj/LmNvbS9zaHJlZGRp/dC9hc3NldHMvZmF2/aWNvbi82NHg2NC5w/bmc', 'original': 'https://www.redditstatic.com/shreddit/assets/favicon/64x64.png'}}}, 'extra_snippets': ["Would the project structure of this be something like src/package1, src/package2, src/mainpackage where the main package relies on the other packages. ... Yes, I believe the data directory should be in the src directory if the package depends on it, you'll just have to make sure it's part of the manifest so it gets included (and since it's in the src directory, that gets easier since you don't need complex logic to tell it what to include) As for an example, cryptography is the general example I recommend here: https://github.com/pyca/cryptography", "However I've adopted the practice of just using the project name for the source files, instead of src. ... ğŸ“¦packaging_tutorial â”£ ğŸ“‚docs â”£ ğŸ“‚packaging_tutorial â”ƒ â”£ ğŸ“œ__init__.py â”ƒ â”£ ğŸ“œ__main__.py â”ƒ â”£ ğŸ“œlib.py â”ƒ â”— ğŸ“œmain.py â”£ ğŸ“‚tests â”ƒ â”£ ğŸ“œconftest.py â”ƒ â”— ğŸ“œsome_test.py â”£ ğŸ“œ.gitattributes â”£ ğŸ“œ.gitignore â”£ ğŸ“œCHANGELOG.md â”£ ğŸ“œCODE_OF_CONDUCT.md â”£ ğŸ“œCONTRIBUTING.md â”£ ğŸ“œpoetry.lock â”£ ğŸ“œpyproject.toml â”— ğŸ“œREADME.md", 'It seems unnecessary to store all the package files within a sub-folder of the src directory. Why not make the src directory the actual package as shown below? packaging_tutorial/ â”œâ”€â”€ LICENSE â”œâ”€â”€ pyproject.toml â”œâ”€â”€ README.md â”œâ”€â”€ src/ â”‚ â”œâ”€â”€ __init__.py â”‚ â””â”€â”€ example.py', 'For example, if the tests and examples directories for a package were placed in src then it would make sense to put the source code for the package in its own sub-directory. packaging_tutorial/ â”œâ”€â”€ LICENSE â”œâ”€â”€ pyproject.toml â”œâ”€â”€ README.md â”œâ”€â”€ src/ â”‚ â””â”€â”€ example_package_YOUR_USERNAME_HERE/ â”‚ â”‚ â”œâ”€â”€ __init__.py â”‚ â”‚ â””â”€â”€ example.py â”‚ â””â”€â”€ tests/ â”‚ â””â”€â”€ examples/ â””â”€â”€ docs/ Share']}, {'title': 'src layout vs flat layout - Python Packaging User Guide', 'url': 'https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/', 'is_source_local': False, 'is_source_both': False, 'description': 'Due to the firstly mentioned specialty of the src layout, a command-line interface can not be run directly from the source tree, but requires installation of the package in Development Mode for testing purposes. Since this can be unpractical in some situations, a workaround could be to prepend the package folder to Pythonâ€™s sys.path when called via its __main...', 'profile': {'name': 'Python Packaging', 'url': 'https://packaging.python.org/en/latest/discussions/src-layout-vs-flat-layout/', 'long_name': 'packaging.python.org', 'img': 'https://imgs.search.brave.com/Jm669Dt15lGsQlL9CLFCUJ0IYzo0mJKKdzUD-8dAId4/rs:fit:32:32:1:0/g:ce/aHR0cDovL2Zhdmlj/b25zLnNlYXJjaC5i/cmF2ZS5jb20vaWNv/bnMvYWE2ZDZmMzU2/MDM3MmNmMjliYzll/MjZiZjBkNTYzNTQ3/NGIwOGQyZDI1NTFj/OGE2N2YzMDYzZjRj/YmI3YzIzMS9wYWNr/YWdpbmcucHl0aG9u/Lm9yZy8'}, 'language': 'en', 'family_friendly': True, 'type': 'search_result', 'subtype': 'generic', 'is_live': False, 'meta_url': {'scheme': 'https', 'netloc': 'packaging.python.org', 'hostname': 'packaging.python.org', 'favicon': 'https://imgs.search.brave.com/Jm669Dt15lGsQlL9CLFCUJ0IYzo0mJKKdzUD-8dAId4/rs:fit:32:32:1:0/g:ce/aHR0cDovL2Zhdmlj/b25zLnNlYXJjaC5i/cmF2ZS5jb20vaWNv/bnMvYWE2ZDZmMzU2/MDM3MmNmMjliYzll/MjZiZjBkNTYzNTQ3/NGIwOGQyZDI1NTFj/OGE2N2YzMDYzZjRj/YmI3YzIzMS9wYWNr/YWdpbmcucHl0aG9u/Lm9yZy8', 'path': 'â€º en  â€º latest  â€º discussions  â€º src-layout-vs-flat-layout'}, 'extra_snippets': ['Due to the firstly mentioned specialty of the src layout, a command-line interface can not be run directly from the source tree, but requires installation of the package in Development Mode for testing purposes. Since this can be unpractical in some situations, a workaround could be to prepend the package folder to Pythonâ€™s sys.path when called via its __main__.py file:', 'The src layout helps prevent accidental usage of the in-development copy of the code. This is relevant since the Python interpreter includes the current working directory as the first item on the import path. This means that if an import package exists in the current working directory with the same name as an installed import package, the variant from the current working directory will be used.', 'The src layout helps enforce that an editable installation is only able to import files that were meant to be importable. This is especially relevant when the editable installation is implemented using a path configuration file that adds the directory to the import path. The flat layout would add the other project files (eg: README.md, tox.ini) and packaging/tooling configuration files (eg: setup.py, noxfile.py) on the import path.', 'This subdirectory is typically named src/, hence â€œsrc layoutâ€. . â”œâ”€â”€ README.md â”œâ”€â”€ noxfile.py â”œâ”€â”€ pyproject.toml â”œâ”€â”€ setup.py â”œâ”€â”€ src/ â”‚ â””â”€â”€ awesome_package/ â”‚ â”œâ”€â”€ __init__.py â”‚ â””â”€â”€ module.py â””â”€â”€ tools/ â”œâ”€â”€ generate_awesomeness.py â””â”€â”€ decrease_world_suck.py']}], 'family_friendly': True}, 'summarizer': {'type': 'summarizer', 'key': '{"v":"2","query":"src/vibescraper/main.py","country":"us","language":"en","safesearch":"moderate","results_hash":"0f9b2eb16c4751a3681013c363187cb3229b6a96ac5ab5e52c082784effee090","experimental_inline_refs":true}'}}
